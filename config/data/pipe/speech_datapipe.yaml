train_dp:
  _target_: data_utility.pipe.builder.SpeechRecognitionDataPipeBuilderConfig

  # potential compression of shards
  tar_read_mode: 'r'  # depends on compression or not

  # parameters determining randomness
  shuffle_buffer_before: 500
  shuffle_buffer_after: 10
  bucket_buffer: 15

  # batching
  max_tokens: 2_400_000
  max_len: 320_000

  # logic for giving each worker equal number of data
  allow_partial_shards: true
  num_workers: 5

val_dp:
  _target_: data_utility.pipe.builder.SpeechRecognitionDataPipeBuilderConfig

  # potential compression of shards
  tar_read_mode: 'r'  # depends on compression or not

  # parameters determining randomness
  shuffle_buffer_before: 500
  shuffle_buffer_after: 10
  bucket_buffer: 15

  # batching
  batch_size: 8
  drop_last: false

  # logic for giving each worker equal number of data
  allow_partial_shards: true
  num_workers: 1

test_dp:
  _target_: data_utility.pipe.builder.SpeechRecognitionDataPipeBuilderConfig

  # potential compression of shards
  tar_read_mode: 'r'  # depends on compression or not

  # parameters determining randomness
  shuffle_buffer_before: 500
  shuffle_buffer_after: 10
  bucket_buffer: 15

  # batching
  batch_size: 1
  drop_last: false

  # logic for giving each worker equal number of data
  allow_partial_shards: true
  num_workers: 1

